MODULE USER_COMMAND_3000 INPUT.
  DATA: PSWRD TYPE ZSH_OS_LOGIN-PASSWORD.

  CASE SY-UCOMM.
    WHEN 'RP'.
      PSWRD = ZSH_OS_LOGIN-PASSWORD.
      SELECT SINGLE  * FROM ZSH_OS_LOGIN WHERE EMAIL = ZSH_OS_LOGIN-EMAIL.
      IF SY-SUBRC = 0.

        UPDATE ZSH_OS_LOGIN SET PASSWORD = PSWRD WHERE EMAIL = ZSH_OS_LOGIN-EMAIL.
        IF SY-SUBRC = 0.
          MESSSHE 'PASSWORD UPDATED' TYPE 'S'.
        ENDIF.
        LEAVE TO SCREEN 0.
      ELSE.
        MESSSHE 'Invalid Email' TYPE 'I' DISPLAY LIKE 'E'.
        CLEAR ZSH_OS_LOGIN.
      ENDIF.
    WHEN 'EX'.
      EXIT.
  ENDCASE.
ENDMODULE.
